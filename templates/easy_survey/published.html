{% extends '../layout.html' %}
{% load static %}
{% block script %}
<script src = "{% static 'index/index.js' %}" defer></script>
<script src="{% static 'lib/cookie.min.js' %}" defer></script>
{% endblock %}
{% load static %}
{% block body %}
<div class="container-fluid">  
    <div class="create-form">        
    </div>
    <div class="container">
        {% if role == "creator" %}            
            <div class="form-list">
                <div class="form-status-block">
                    <p class="green-title">Published Forms:</p>
                    {% for form in published_forms %}
                    <a href="{% url 'responses' form.code %}" class="form-list-link">
                        <div class="form-box">
                            <div class="form-list-title">
                                <h5 class="form-list-title-text">{{ form.title }}</h5>
                            </div>
                            {% if form.createdAt == form.updatedAt %}
                            <p class="form-list-timestamp">{{ form.createdAt }}</p>
                            {% else %}
                            <p class="form-list-timestamp">{{ form.updatedAt }}</p>
                            {% endif %}
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>        
        {% else %}
            <div class="form-list">
                <div class="form-status-block">
                    <p class="green-title">Published Forms:</p>
                    {% for form in all_published_forms %}
                    <a href="{% url 'view_form' form.code %}" class="form-list-link">
                        <div class="form-box">
                            <div class="form-list-title">
                                <h5 class="form-list-title-text">{{ form.title }}</h5>
                            </div>
                            {% if form.createdAt == form.updatedAt %}
                            <p class="form-list-timestamp">{{ form.createdAt }}</p>
                            {% else %}
                            <p class="form-list-timestamp">{{ form.updatedAt }}</p>
                            {% endif %}
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}